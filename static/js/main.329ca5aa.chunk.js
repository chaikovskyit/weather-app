(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{18:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(13),a=n.n(r),s=(n(18),n(6)),i=n.n(s),o=n(8),u=n(10),d=n(7),l=n.n(d),j=(n(21),n(0)),m=function(e){var t=e.city,n=e.date,c=e.country;return Object(j.jsxs)("div",{className:"location-and-date",children:[Object(j.jsx)("div",{className:"location-and-date__city",children:"".concat(t,", ").concat(c)}),Object(j.jsx)("div",{className:"location-and-date__date",children:n})]})},h=function(e){var t=e.coords,n=t.latitude,c=t.longitude;return"http://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(c,"&units=metric&appid=").concat("c5afedd588ea98334377eff7d998d6f1")},p=function(e){var t=e.list,n=e.city;return{currentWeather:t.slice(0,8),nextDays:t.slice(8,t.length).filter((function(e,t){return t%8===0})),city:n}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"http://openweathermap.org/img/wn/".concat(e,"@").concat(t,"x.png")},b=function(e){return Math.floor(+e)},x=function(e){return"http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&appid=").concat("c5afedd588ea98334377eff7d998d6f1")},O=(n(23),function(e){var t,n=e.icon,c=e.temperature,r=e.description;return Object(j.jsxs)("div",{className:"current-temperature col-md-6",children:[Object(j.jsx)("img",{src:f(n,4),alt:"weather icon"}),Object(j.jsxs)("div",{className:"current-temperature__info",children:[Object(j.jsxs)("div",{className:"current-temperature__temperature",children:[b(c),"\xb0"]}),Object(j.jsx)("div",{children:(t=r,t.charAt(0).toUpperCase()+t.slice(1))})]})]})}),v=(n(24),n(25),function(e){var t=e.topStr,n=e.bottomStr,c=e.withDegSymbol,r=void 0!==c&&c,a=e.className,s=void 0===a?"col-sm-4":a;return Object(j.jsxs)("div",{className:"info ".concat(s," text-center p-0"),children:[Object(j.jsxs)("div",{className:"info__top",children:[t,r&&Object(j.jsx)("span",{children:"\xb0"})]}),Object(j.jsx)("div",{className:"info__bottom",children:n})]})}),w=function(e){var t=e.hightTemp,n=e.lowTemp,c=e.wind,r=e.humidity,a=e.sunrise,s=e.sunset;return Object(j.jsxs)("div",{className:"current-stats col-md-6",children:[Object(j.jsxs)("div",{className:"row justify-content-center",children:[Object(j.jsx)(v,{topStr:t,bottomStr:"High",withDegSymbol:!0,className:"col-2"}),Object(j.jsx)(v,{topStr:c,bottomStr:"Wind",className:"col-5"}),Object(j.jsx)(v,{topStr:a,bottomStr:"Sunrice",className:"col-5"})]}),Object(j.jsxs)("div",{className:"row justify-content-center",children:[Object(j.jsx)(v,{topStr:n,bottomStr:"Low",withDegSymbol:!0,className:"col-2"}),Object(j.jsx)(v,{topStr:r,bottomStr:"Humidity",className:"col-5"}),Object(j.jsx)(v,{topStr:s,bottomStr:"Sunset",className:"col-5"})]})]})},y=n(41),N=n(39),g=n(40),S=n(37),_=n(38),D=(n(26),function(e){var t=e.hour,n=e.icon,c=e.temperature;return Object(j.jsxs)("div",{className:"hourly-weather-item swiper-slide",children:[l.a.unix(t).format("LT"),Object(j.jsx)("img",{src:f(n,2),alt:"weather icon"}),b(c),"\xb0"]})});n(27),n(28),n(29),n(30);g.a.use([S.a,_.a]);var k=function(e){var t=e.futureWeather;return Object(j.jsx)("div",{className:"hourly-weather-list",children:Object(j.jsx)(y.a,{id:"main",navigation:!0,pagination:{clickable:!0},spaceBetween:1,slidesPerView:4,children:t.map((function(e){var t=e.weather,n=e.dt,c=e.main;return Object(j.jsx)(N.a,{children:Object(j.jsx)(D,{icon:t[0].icon,temperature:c.temp,hour:n})},n)}))})})},T=n.p+"static/media/loader1.c33ef664.svg",W=(n(31),function(){return Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)("img",{className:"loader__icon",src:T,alt:"loader icon"})})}),H=(n(32),function(e){var t=e.submitHandler,n=e.changeHandler,c=e.inputValue,r=function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"search-form mb-3",onSubmit:function(e){return r(e)},children:[Object(j.jsx)("input",{type:"text",className:"search-form__input",placeholder:"search city",onChange:n}),Object(j.jsx)("button",{className:"search-form__button",type:"submit",children:"\ud83d\udd0d"})]})}),M=(n(33),n.p+"static/media/error.7eb91340.svg"),L=function(){return Object(j.jsx)("div",{className:"error",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"O..o city not found \ud83d\ude2d"}),Object(j.jsx)("img",{className:"icon",src:M,alt:"error icon"})]})})},C=(n(34),function(e){var t=e.hour,n=e.icon,c=e.temperature;return Object(j.jsxs)("div",{className:"row item",children:[Object(j.jsx)("div",{className:"col-4 column",children:l.a.unix(t).format("ddd Do")}),Object(j.jsx)("div",{className:"col-4 column",children:Object(j.jsx)("img",{src:f(n,2),alt:"weather icon"})}),Object(j.jsxs)("div",{className:"col-4 column",children:[b(c),"\xb0"]})]})}),V=function(e){var t=e.nextDays;return Object(j.jsx)(j.Fragment,{children:t.map((function(e){var t=e.weather,n=e.dt,c=e.main;return Object(j.jsx)(C,{icon:t[0].icon,temperature:c.temp,hour:n},n)}))})},B=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(" "),s=Object(u.a)(a,2),d=s[0],f=s[1],v=Object(c.useState)(!1),y=Object(u.a)(v,2),N=y[0],g=y[1],S=Object(c.useState)({currentWeather:[],nextDays:[],city:{}}),_=Object(u.a)(S,2),D=_[0],T=_[1],M=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(t),e.next=3,window.fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,T(p(a)),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),r(!0),t=x(d),e.next=5,window.fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(404!==+(c=e.sent).cod){e.next=13;break}return r(!1),g(!0),e.abrupt("return");case 13:T(p(c)),r(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.navigator.geolocation.getCurrentPosition(M);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=D.currentWeather,F=D.nextDays,J=D.city;if(n)return Object(j.jsx)(W,{});var P=D.currentWeather[0],q=l()().format("dddd Do MMMM"),A=P.main,I=P.weather,U=P.wind,z=A.temp_max,G=A.temp_min,K=A.humidity,Q=J.sunrise,R=J.sunset;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"app-container container",children:[Object(j.jsxs)("header",{children:[!n&&!N&&Object(j.jsx)(m,{country:J.country,city:J.name,date:q}),Object(j.jsx)(H,{submitHandler:C,changeHandler:function(e){f(e.target.value)},inputValue:d})]}),!n&&N&&Object(j.jsx)(L,{}),!n&&!N&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(O,{temperature:A.temp,description:I[0].description,icon:I[0].icon}),Object(j.jsx)(w,{hightTemp:b(z),lowTemp:b(G),wind:"".concat(U.speed," km/h"),humidity:"".concat(K,"%"),sunrise:l.a.unix(Q).format("LT"),sunset:l.a.unix(R).format("LT")}),Object(j.jsxs)("div",{className:"future-weather-container mt-4 w-100 ",children:[Object(j.jsx)("p",{children:"Todays weather"}),Object(j.jsx)(k,{futureWeather:E})]})]}),Object(j.jsx)(V,{nextDays:F})]})]})})};a.a.render(Object(j.jsx)(B,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.329ca5aa.chunk.js.map